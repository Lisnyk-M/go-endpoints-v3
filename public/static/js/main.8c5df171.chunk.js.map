{"version":3,"sources":["components/Table/Table.module.css","components/Contacts/Contacts.module.css","components/Notification/Notification.module.css","components/PhoneBook/slideBar.module.css","components/PhoneBook/titleFade.module.css","components/PhoneBook/PhoneBook.module.css","components/Contacts/slideItems.module.css","components/Filter/Filter.module.css","components/App.module.css","components/Notification/Notification.js","components/PhoneBook/PhoneBook.js","components/Contacts/Contacts.js","services/api.js","components/Filter/Filter.js","components/Table/Table.js","components/App.js","index.js"],"names":["module","exports","Notification","message","className","styles","notification","PhoneBook","state","name","number","email","error","handleSubmit","e","preventDefault","contact","id","uuidv4","props","onAddContact","handleChange","setState","target","value","handleChangeEmail","this","CSSTransition","in","appear","timeout","classNames","UpBar","unmountOnExit","title","Fade","inputContact","onSubmit","label","input","type","onChange","buttonAddContact","Component","ax","axios","create","baseURL","process","get","then","res","console","log","data","catch","contactId","delete","Promise","resolve","reject","post","User","Email","Password","response","Filter","Table","onRemoveContact","stylesTable","wrapper","cellSpacing","border","cellPadding","width","thead","row","head","length","map","item","key","ID","Name","CreatedAt","substring","buttonDelete","onClick","App","filter","contacts","addContact","api","existContact","findIndex","contactState","toLowerCase","changeFilter","getVisibleContacts","includes","removeContact","prevState","prevProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c5df171.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Table_wrapper__j7rAj\",\"transaction-history\":\"Table_transaction-history__tYsQO\",\"row\":\"Table_row__GvRlL\",\"cells\":\"Table_cells__34Fa3\",\"head\":\"Table_head__3U_pH Table_cells__34Fa3\",\"data\":\"Table_data__3DHDh Table_cells__34Fa3\",\"buttonDelete\":\"Table_buttonDelete__270HB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Contacts_list__1xOvI\",\"item\":\"Contacts_item__10B2v\",\"buttonDelete\":\"Contacts_buttonDelete__suIsD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__35dC_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appear\":\"slideBar_appear__2DgBP\",\"appearActive\":\"slideBar_appearActive__2KQQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"titleFade_enter__2zZG3\",\"enterActive\":\"titleFade_enterActive__2EgPv\",\"exit\":\"titleFade_exit__jNQLE\",\"exitActive\":\"titleFade_exitActive__1gxwF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PhoneBook_title__1Bdkh\",\"inputContact\":\"PhoneBook_inputContact__1hgMh\",\"label\":\"PhoneBook_label__2-OAy\",\"input\":\"PhoneBook_input__3e_Bf\",\"buttonAddContact\":\"PhoneBook_buttonAddContact__24kLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"slideItems_enter__3UhLs\",\"enterActive\":\"slideItems_enterActive__PgED0\",\"exit\":\"slideItems_exit__1OXJ7\",\"exitActive\":\"slideItems_exitActive__3qjBj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__-kpUO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3DlnI\",\"ButtonWrap\":\"App_ButtonWrap__2sEpH\"};","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport styles from './Notification.module.css';\r\n\r\nfunction Notification({message}) {\r\n    return (\r\n        <h2 className={styles.notification}>{message}</h2>\r\n    )\r\n}\r\n\r\nNotification.propTypes = {\r\n    message: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Notification;\r\n","import React, { Component } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styles from './PhoneBook.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Notification from '../Notification/Notification';\r\nimport UpBar from './slideBar.module.css';\r\nimport Fade from './titleFade.module.css';\r\n\r\nclass PhoneBook extends Component {\r\n    state = {\r\n        name: '',\r\n        number: '',\r\n        email: '',\r\n        error: '',\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const contact = {\r\n            id: uuidv4(),\r\n            name: this.state.name,\r\n            email: this.state.email\r\n        }\r\n        const { name, email } = this.state;\r\n        this.props.onAddContact(contact);\r\n        // this.setState({name: '', email: ''});\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ name: e.target.value });\r\n    }\r\n\r\n    handleChangeEmail = e => {\r\n        this.setState({ email: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        const contact = {\r\n            id: uuidv4(),\r\n            name: this.state.name,\r\n            number: this.state.number\r\n        }\r\n        const { error } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <CSSTransition in appear timeout={500} classNames={UpBar} unmountOnExit>\r\n                    <h2 className={styles.title}>Welcome to the club</h2>\r\n                </CSSTransition>\r\n\r\n                <CSSTransition in={error !== ''} timeout={250} classNames={Fade} unmountOnExit>\r\n                    <Notification message={error}></Notification>\r\n                </CSSTransition>\r\n\r\n                <form className={styles.inputContact} onSubmit={this.handleSubmit}>\r\n                    <label className={styles.label}>Name</label>\r\n                    <input\r\n                        className={styles.input}\r\n                        type=\"text\"\r\n                        value={this.state.name}\r\n                        onChange={this.handleChange}\r\n                    >\r\n                    </input>\r\n                    <label className={styles.label}>Email</label>\r\n                    <input className={styles.input} type=\"email\" value={this.state.email} onChange={this.handleChangeEmail}></input>\r\n                    <button type=\"submit\" className={styles.buttonAddContact}>Add</button>\r\n                </form>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n// PhoneBook.propTypes = {\r\n//     onAddContact: PropTypes.func.isRequired,\r\n//     contacts: PropTypes.arrayOf(PropTypes.shape({\r\n//         id: PropTypes.string.isRequired,\r\n//         name: PropTypes.string.isRequired,\r\n//         number: PropTypes.string.isRequired\r\n//     }).isRequired)\r\n// }\r\n\r\nexport default PhoneBook;","import React, { Component } from 'react';\r\nimport styles from './Contacts.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport slide from './slideItems.module.css';\r\n\r\nclass Contacts extends Component {\r\n\r\n    render() {\r\n        const { onRemoveContact } = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <TransitionGroup component=\"ul\" className={styles.list}>\r\n                    {this.props.contactsArr.map(item => (\r\n                        <CSSTransition key={item.ID} timeout={250} classNames={slide}>\r\n                            <li className={styles.item} key={item.ID}>\r\n                                {item.Name}: {item.number}\r\n                                <button\r\n                                    className={styles.buttonDelete}\r\n                                    id={item.ID}\r\n                                    onClick={() => onRemoveContact(item.ID)}>x\r\n                                    </button>\r\n                            </li>\r\n                        </CSSTransition>\r\n                    ))}\r\n                </TransitionGroup>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nContacts.propTypes = {\r\n    contactsAr: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        number: PropTypes.string.isRequired\r\n    }).isRequired),\r\n    onRemoveContact: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Contacts;","// export default function getUsers(e) {\r\n//     // console.log(\"FETCHHHHHHHHHHHHHHHHHHHH\");\r\n\r\n//     return fetch('http://localhost:3001/users')\r\n//         .then((response) => {\r\n//             return response.json();\r\n//         })\r\n//         .then((data) => {\r\n//             // console.log(data);\r\n//             return data;\r\n//         });\r\n\r\n// }\r\n\r\n// import axios from 'axios';\r\n\r\n// const fetchArticlesWithQuery = (searchQuery, page = 1, perPage = 12) => {\r\n//     const baseURL = 'https://pixabay.com/api/?&key=17921001-34fc34d57ac8e12c6e45b531b&q=';\r\n\r\n//     return axios\r\n//         .get(baseURL + searchQuery + `&page=${page}&per_page=${perPage}`)\r\n//         .then(response => response.data.hits);        \r\n// }\r\n\r\n// export default {\r\n//     fetchArticlesWithQuery,\r\n// }\r\n\r\nimport axios from 'axios';\r\n\r\nconst ax = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n})\r\n\r\nconst getUsers = () => {\r\n    return ax.get(`/users`)\r\n        .then(res => {\r\n            // this.setState({ contacts: res.data });\r\n            console.log('existUsers: ', res.data);\r\n            return res.data;\r\n        })\r\n        .catch(error => {\r\n            // this.setState({error: error.message});\r\n            return error;\r\n        })\r\n}\r\n\r\nconst deleteUser = (contactId) => {\r\n    ax.delete(`/user/${contactId}`)\r\n        .then(res => {\r\n            // this.setState({ contacts: res.data });\r\n            // console.log('existUsers: ', res.data);\r\n            return res.data;\r\n        })\r\n        .catch(error => {\r\n            // this.setState({error: error.message});\r\n            return error;\r\n        })\r\n}\r\n\r\nconst addUser = (name, email) => {\r\n    // const today = new Date(Date.now()).toLocaleDateString();\r\n    return new Promise((resolve, reject) => {\r\n        ax.post(`/auth/register`, {\r\n            User: name,\r\n            Email: email,\r\n            Password: \"1111\",\r\n            // Date: today,\r\n        })\r\n            .then(res => {\r\n                // this.setState({ contacts: res.data });\r\n                console.log('res.data: ', res.data);\r\n                resolve(res.data);\r\n            })\r\n            .catch(error => {\r\n                // this.setState({error: error.message});\r\n                // console.log('error: ', error.response.data.error);\r\n                error && error.response && error.response.data\r\n                    ? reject(error.response.data.error)\r\n                    : reject(\"Netwok error\");\r\n\r\n            })\r\n    })\r\n}\r\n\r\n//     api.post(`/auth/register`, {\r\n//         User: name,\r\n//         Email: email,\r\n//         Password: \"1111\",\r\n//     })\r\n//         .then(res => res)\r\n//         .catch(err => this.setState({ error: err.message }))\r\n\r\nexport default { getUsers, deleteUser, addUser };","import React from 'react';\r\nimport styles from './Filter.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Filter({ value, onChangeFilter }) {\r\n    return (\r\n        <div>\r\n            <h2>Find contacts by name</h2>\r\n            <input\r\n                className={styles.filter} \r\n                type=\"text\" value={value}\r\n                onChange={e => onChangeFilter(e.target.value)}>\r\n            </input>\r\n        </div>\r\n    )\r\n}\r\n\r\nFilter.propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onChangeFilter: PropTypes.func.isRequired    \r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\nimport stylesTable from './Table.module.css';\r\n\r\nconst Table = ({ data, onRemoveContact }) => {\r\n    return (\r\n        <div className={stylesTable.wrapper}>\r\n            <table className={stylesTable['transaction-history']} cellSpacing=\"1\" border=\"1\" cellPadding=\"5\" width=\"300\">\r\n                <thead className={stylesTable.thead}>\r\n                    <tr className={stylesTable.row}>\r\n                        <th className={stylesTable.head}>ID</th>\r\n                        <th className={stylesTable.head}>Name</th>\r\n                        <th className={stylesTable.head}>Email</th>\r\n                        <th className={stylesTable.head}>Registration date</th>\r\n                        <th className={stylesTable.head}>Delete</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                    {data && data.length > 0 && data.map(item => (\r\n                        <tr className={stylesTable.row} key={item.ID}>\r\n                            <td className={stylesTable.data}>{item.ID}</td>\r\n                            <td className={stylesTable.data}>{item.Name}</td>\r\n                            <td className={stylesTable.data}>{item.Email}</td>\r\n                            <td className={stylesTable.data}>{\r\n                                item.CreatedAt.substring(0, 10)\r\n                            }</td>\r\n                            <td className={stylesTable.data}>\r\n                                <button\r\n                                    className={stylesTable.buttonDelete}\r\n                                    id={item.ID}\r\n                                    onClick={() => onRemoveContact(item.ID)}>x\r\n                                    </button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table;","import React, { Component } from 'react';\r\nimport PhoneBook from './PhoneBook/PhoneBook';\r\nimport Contacts from './Contacts/Contacts';\r\nimport api from '../services/api';\r\nimport Filter from './Filter/Filter';\r\nimport styles from './App.module.css';\r\nimport Table from './Table/Table';\r\n\r\nexport default class App extends Component {\r\n    state = {\r\n        filter: '',\r\n        contacts: [],\r\n        name: '',\r\n        error: '',\r\n    };\r\n\r\n    // fix bug for componentDidMount rerender\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.contacts !== this.state.contacts) {\r\n            // localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\r\n        }\r\n    }\r\n\r\n    componentDidMount() { \r\n        api.getUsers()\r\n            .then(res => this.setState({ contacts: res }))\r\n            .catch(error => this.setState({ error: error.message }));\r\n    }\r\n\r\n    addContact = ({ name, email }) => {\r\n        const ppp = api.addUser( name, email )\r\n\r\n            ppp.then(res => {\r\n                api.getUsers()\r\n                    .then(res => this.setState({ contacts: res, error: '' }))                                                \r\n                    .catch(error => this.setState({ error: error.message }));\r\n            }).catch(error => this.setState({ error: error}));\r\n    }\r\n\r\n    existContact = contact => {\r\n        const isExistContact = this.state.contacts.findIndex(contactState => {\r\n            return contactState.Name.toLowerCase() === contact.name.toLowerCase()\r\n        });\r\n        return isExistContact > 0 ? true : false;\r\n    }\r\n\r\n    changeFilter = filter => {\r\n        this.setState({ filter })\r\n    }\r\n\r\n    getVisibleContacts = () => {\r\n        const { contacts, filter } = this.state;\r\n\r\n        if (contacts.length > 0) {\r\n            return contacts.filter(contact => {\r\n                return contact.Name.toLowerCase().includes(filter.toLowerCase())\r\n\r\n            })\r\n        } else {\r\n            return contacts;\r\n        }\r\n    }\r\n\r\n    removeContact = contactId => {\r\n        api.deleteUser(contactId);\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                contacts: prevState.contacts.filter(({ ID }) => ID !== contactId)\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { filter, contacts, error } = this.state;\r\n        const visibleContacts = this.getVisibleContacts();\r\n\r\n        return (\r\n            <>\r\n                <div className={styles.App}>\r\n                    <PhoneBook\r\n                        onAddContact={this.addContact}\r\n                        contacts={contacts}\r\n                        existContact={this.existContact}\r\n                        error={error}\r\n                    />\r\n                    {/* <h2>Contacts</h2> */}\r\n                    {/* <Contacts contactsArr={visibleContacts} onRemoveContact={this.removeContact} /> */}\r\n\r\n                    <Table data={contacts} onRemoveContact={this.removeContact} />\r\n                    {/* <Filter value={filter} onChangeFilter={this.changeFilter} /> */}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './common.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}